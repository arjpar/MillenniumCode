{
  "permissions": {
    "allow": [
      "Bash(git add .github/workflows/build.yml private-build-plans.toml)",
      "Bash(git commit -m \"$(cat <<''EOF''\nOptimize GitHub Actions workflow for significantly faster builds\n\nThis commit completely rewrites the Iosevka font build workflow to maximize performance:\n\n- Use parallel matrix builds to build all 4 font variants simultaneously\n- Switch to ubuntu-latest-16-cores runners for much faster compilation\n- Implement proper Docker BuildKit caching for faster image builds\n- Add node_modules caching to avoid reinstalling dependencies\n- Split workflow into 3 jobs: prepare, build (parallel), and release\n- Update all actions to v4 for latest performance improvements\n- Add --single-branch flag to git clone for faster repository fetch\n- Allocate all 16 cores to Docker containers with --cpus flag\n\nExpected build time reduction: 20-30+ minutes down to 5-10 minutes\n\n Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push origin main)",
      "Bash(git add .github/workflows/build.yml)",
      "Bash(git commit -m \"$(cat <<''EOF''\nSwitch to ubuntu-latest runners for faster job startup\n\nChanged from ubuntu-latest-16-cores to ubuntu-latest (2-core) runners\nto avoid long wait times for runner availability. The 4 parallel matrix\nbuilds still provide significant speedup over sequential builds, and\nstandard runners start almost immediately.\n\nAlso removed --cpus=\"16\" flag from Docker run command since it''s not\nneeded for 2-core runners.\n\n Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nRemove unnecessary matrix strategy, simplify to single build job\n\nSince Iosevka builds all font variants together with a single command\n(ttf::MillenniumCode), the matrix strategy was building the same fonts\n4 times in parallel, wasting resources.\n\nChanges:\n- Removed matrix strategy and parallel builds\n- Merged prepare and build jobs into single job\n- Removed separate release job and artifact uploads\n- Kept all caching optimizations (Docker BuildKit, node_modules)\n- Kept updated actions (v4) and optimized git clone flags\n- Simplified workflow to build once and release directly\n\n Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(if [ -d \"$HOME/Iosevka\" ])",
      "Bash(then cat \"$HOME/Iosevka/docker/Dockerfile\")",
      "Bash(else echo \"Iosevka not cloned locally, will create Dockerfile based on standard Iosevka structure\")",
      "Bash(fi)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(git add .github/workflows/build.yml docker/Dockerfile docker/build.sh)",
      "Bash(git commit -m \"$(cat <<''EOF''\nSwitch to Bun for faster dependency installation and builds\n\nImplemented both Docker-based and runner-based Bun usage:\n\nDocker changes:\n- Created custom Dockerfile using oven/bun:1-slim as base image\n- Created custom build.sh that uses ''bun install'' and ''bun run build''\n- Downloads Iosevka source inside container (no need to clone separately)\n- Replaces npm with Bun for significantly faster package installation\n\nWorkflow changes:\n- Added oven-sh/setup-bun@v2 to install Bun on GitHub runner\n- Build custom Docker image from local docker/ directory\n- Removed Iosevka clone step (now handled inside container)\n- Removed node_modules caching (Bun handles caching better internally)\n- Updated Docker cache key to track Dockerfile and build.sh changes\n- Pass VERSION_TAG as environment variable to container\n\nBenefits:\n- Much faster dependency installation with Bun vs npm\n- Cleaner workflow without manual Iosevka cloning\n- Self-contained Docker image with all build logic\n- Bun available both in container and on runner\n\n Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git add docker/Dockerfile .github/workflows/build.yml)",
      "Bash(git commit -m \"$(cat <<''EOF''\nUpdate to use latest Bun versions\n\nChanges:\n- Updated Dockerfile to use oven/bun:latest instead of oven/bun:1-slim\n- Updated workflow to use oven-sh/setup-bun@latest instead of @v2\n- Removed explicit bun-version parameter (defaults to latest)\n\nThis ensures we always use the newest Bun version with latest performance\nimprovements and bug fixes.\n\n Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nRevert setup-bun to @v2 for stability\n\nUsing @latest for GitHub Actions is not standard practice and may not work\nreliably. Reverted to @v2 which is the stable, recommended version.\n\nThe Bun version itself will still be latest since we don''t specify a\nbun-version parameter (defaults to latest).\n\n Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "WebSearch",
      "Bash(git add docker/Dockerfile)",
      "Bash(git commit -m \"$(cat <<''EOF''\nSwitch to oven/bun:1-slim for smaller, optimized Docker image\n\nChanged from oven/bun:latest to oven/bun:1-slim to reduce image size\nwhile still maintaining the latest Bun v1.x version.\n\nBenefits:\n- 225 MB smaller image (65 MB vs 290 MB)\n- Faster to pull and build\n- Still tracks latest Bun v1.x releases (e.g., 1.0, 1.1, 1.2, etc.)\n- Maintains Debian compatibility for system packages like ttfautohint\n- Smaller attack surface with fewer packages\n\n Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
